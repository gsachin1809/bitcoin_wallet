angular.module("pms.service").factory("AdminLogin",["$resource","$log","$http","Base","locker","$state",function(o,t,a,e,n,r){var u={};return u.resource=function(){var t=e.home_url+"/api_v1/admin/login";return o(t,{},{login:{method:"POST",params:{}}})},u.checklogin=function(){var o=n.get("auth_user");return void 0!=typeof o&&void 0!==o},u.user_name=function(){var o=n.get("auth_user");return o.first_name+" "+o.last_name},u.logout=function(){console.log("call logout"),n.has("auth_user")&&n.forget("auth_user"),r.go("login")},u}]),angular.module("pms.service").factory("Base",function(){var o="",t="",a="",e="";return"127.0.0.1"==location.hostname?(o="http://127.0.0.1:8000/ajax",t="http://127.0.0.1:8000",a="http://127.0.0.1:8000/api_v1/admin/login",e="http://127.0.0.1:8000/api_v1/admin/logout"):(o="http://"+location.hostname+"/ajax",t="http://"+location.hostname,a="http://"+location.hostname+"/ajax/admin/login",e="http://"+location.hostname+"/ajax/admin/logout"),{app_url:o,home_url:t,admin_login_url:a,admin_logout_url:e}}),angular.module("pms.service").factory("User",["$resource","$log","$http","Base","locker","$state",function(o,t,a,e,n,r){var u={};return u.resource=function(){var t=e.home_url+"/user/create";return o(t,{},{login:{method:"POST",params:{}}})},u.login=function(){var t=e.home_url+"/user/login";return o(t,{},{login:{method:"POST",params:{}}})},u.checklogin=function(){var o=n.get("auth_user");return void 0!=typeof o&&void 0!==o},u.user_name=function(){var o=n.get("auth_user");return o.first_name+" "+o.last_name},u.logout=function(){console.log("call logout"),n.has("auth_user")&&n.forget("auth_user"),r.go("login")},u}]);