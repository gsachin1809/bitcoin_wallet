angular.module("pms.directive").directive("knob",["$timeout",function(t){return{restrict:"EA",replace:!0,template:'<input value="{{ knobData }}"/>',scope:{knobData:"=",knobMax:"=",knobReadonly:"=",knobOptions:"&"},link:function(n,e){n.knobOptions=function(){n.options={unit:"%",readOnly:!0,subText:{enabled:!0,text:"Revenue",color:"gray",font:"auto"},trackWidth:40,barWidth:25,trackColor:"#656D7F",barColor:"#2CC185"}};var i=n.knobOptions()||{max:n.knobMax,readOnly:n.knobReadonly};i.release=function(e){t(function(){n.knobData=e,n.$apply()},0,!1)},n.$watch("knobData",function(t,n){t!==n&&$(e).val(t).change()}),n.$watch("knobMax",function(t){n.knobMax=t}),n.$watch("knobReadonly",function(t){n.knobReadonly=t}),$(e).val(n.knobData).knob(i)}}}]),angular.module("pms.directive").directive("noScrollbar",["$rootScope",function(t){return{restrict:"C",link:function(n,e,i){if(!t.scrollbarWidth){var a=document.createElement("div");a.className="scrollbar-measurer",document.body.appendChild(a),t.scrollbarWidth=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}e.css("padding-right",parseInt(e.css("padding-right"))+t.scrollbarWidth)}}}]),angular.module("pms.directive").directive("scrollableTable",["$timeout",function(t){return{scope:{tabledata:"=tabledata"},link:function(n,e,i){function a(t){console.log(t);var n=$(e).find("table td[index-count],table th[index-count]");$.each(n,function(){var n=$(this).attr("index-count");parseInt(n)>=parseInt(t)+1&&parseInt(n)<=parseInt(t)+1+parseInt(c)?$(this).css("display","table-cell"):$(this).css("display","none")});var i=d-c;0==t?$(e).find(".nex_vid .prev").prop("disabled","disabled"):$(e).find(".nex_vid .prev").prop("disabled",!1),t==i?$(e).find(".nex_vid .next").prop("disabled","disabled"):$(e).find(".nex_vid .next").prop("disabled",!1)}$(e);var o=$(e).find("table"),d=0,r=$(o).find("thead tr");$.each(r,function(){var t=this,n=1,e=$(t).find("th:not([fixed])");$.each(e,function(){$(this).attr("index-count",n),n++}),n>d&&(d=n)});var c=10;void 0!=i.columncount&&(c=i.columncount);var l=0,s=d-c;$(e).prepend('<div class="text-right"><div class="btn-group nex_vid" style="margin-bottom:5px;" offset="'+l+'"><button type="button" class="btn btn-default prev" style="width:80px;display:none;" disabled> <i class="fa fa-chevron-left" aria-hidden="true"></i> Previous</button><button type="button" class="btn btn-default next" style="width:80px;display:none;">Next <i class="fa fa-chevron-right" aria-hidden="true"></i></button></div></div>'),n.$watch("tabledata",function(){t(function(){var t=$(o).find("tbody");$.each(t,function(){var t=this,n=$(t).find("tr");$.each(n,function(){var t=this,n=1,e=$(t).find("td:not([fixed]),th:not([fixed])");$.each(e,function(){$(this).attr("index-count",n),n++}),n>d&&(d=n)})});var n=$(e).find("table td[index-count],table th[index-count]");$.each(n,function(){var t=$(this).attr("index-count");parseInt(t)<=c?$(this).css("display","table-cell"):$(this).css("display","none")}),(s=d-c)<=0?$(e).find(".nex_vid .next").prop("disabled","disabled"):$(e).find(".nex_vid .next").removeProp("disabled")},100)}),$(e).find(".nex_vid .next").click(function(){(l+=1)>s&&(l=s),a(l)}),$(e).find(".nex_vid .prev").click(function(){(l-=1)<0&&(l=0),a(l)})}}}]);